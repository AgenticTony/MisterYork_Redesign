{
  "feature": "Remove Hardcoded Credentials and Implement Secure Secret Management",
  "description": "The .auto-claude/.env file contains a hardcoded GitHub personal access token (GITHUB_TOKEN). While this directory is in .gitignore, storing credentials in plaintext files is a security risk. If the project folder is shared, backed up, or if the gitignore is accidentally modified, these credentials could be exposed.",
  "workflow_type": "simple",
  "workflow_rationale": "This is a single-file security fix with no service dependencies. The task involves removing a hardcoded credential from one file and updating documentation - a straightforward change that doesn't require multiple phases or complex coordination.",
  "phases": [
    {
      "id": "phase-1-secure-credentials",
      "name": "Secure Credential Management",
      "type": "implementation",
      "description": "Remove hardcoded GITHUB_TOKEN from .auto-claude/.env and implement secure secret management with proper documentation",
      "depends_on": [],
      "parallel_safe": true,
      "subtasks": [
        {
          "id": "subtask-1-1",
          "description": "Remove hardcoded GITHUB_TOKEN from .auto-claude/.env file",
          "service": "parent",
          "files_to_modify": [
            ".auto-claude/.env"
          ],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "grep -q 'GITHUB_TOKEN' ../.auto-claude/.env 2>/dev/null && echo 'TOKEN_FOUND' || echo 'TOKEN_REMOVED'",
            "expected": "TOKEN_REMOVED"
          },
          "status": "completed",
          "notes": "Removed the entire GITHUB_TOKEN line from the .env file. The token should be set via environment variable or system keychain. Verified: TOKEN_REMOVED"
        },
        {
          "id": "subtask-1-2",
          "description": "Create or update .auto-claude/.env.example with GITHUB_TOKEN documentation",
          "service": "parent",
          "files_to_modify": [],
          "files_to_create": [
            ".auto-claude/.env.example"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "test -f ../.auto-claude/.env.example && grep -q 'GITHUB_TOKEN' ../.auto-claude/.env.example && echo 'EXAMPLE_EXISTS'",
            "expected": "EXAMPLE_EXISTS"
          },
          "status": "completed",
          "notes": "Created .env.example file with commented GITHUB_TOKEN variable showing the format but without any actual value. Added comments explaining where to obtain the token (https://github.com/settings/tokens) and its required scopes (repo, read:org, user:read:user, workflow). Verified: EXAMPLE_EXISTS"
        },
        {
          "id": "subtask-1-3",
          "description": "Create secret management documentation in .auto-claude/SECRETS.md",
          "service": "parent",
          "files_to_modify": [],
          "files_to_create": [
            ".auto-claude/SECRETS.md"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "test -f ../.auto-claude/SECRETS.md && echo 'DOCS_EXIST'",
            "expected": "DOCS_EXIST"
          },
          "status": "completed",
          "notes": "Created comprehensive SECRETS.md documentation covering: 1) Why secrets shouldn't be hardcoded (security risks like shared folders, backups, accidental commits), 2) How to set environment variables (GitHub token creation and configuration for different platforms), 3) Recommended secret managers (system keychain, 1Password, Bitwarden, Doppler, direnv), 4) Security best practices for development environments (git safety hooks, detection tools, project-specific guidelines). File is in gitignored .auto-claude directory as intended for local developer reference. Verified: DOCS_EXIST"
        },
        {
          "id": "subtask-1-4",
          "description": "Run secrets scan to verify no other hardcoded credentials exist",
          "service": "parent",
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "manual",
            "instructions": "Review scan results to ensure no hardcoded secrets (API keys, tokens, passwords) remain in the codebase. Fix any issues found."
          },
          "status": "completed",
          "notes": "Comprehensive security scan completed successfully. Scanned for: GitHub tokens (ghp_, gho_, ghu_, ghs_, ghr_), API keys, secrets, passwords, bearer tokens, AWS keys (AKIA), Stripe keys (sk_live_, sk_test_), private keys (BEGIN PRIVATE KEY), database connection strings (mongodb, postgres, mysql), Slack tokens (xoxb-), and Google API keys (ya29). All scans returned negative results - no hardcoded credentials detected. The .env.example file contains only placeholder text 'your_github_token_here' with no actual secrets. Security scan PASSED."
        }
      ]
    }
  ],
  "summary": {
    "total_phases": 1,
    "total_subtasks": 4,
    "services_involved": [
      "parent"
    ],
    "parallelism": {
      "max_parallel_phases": 1,
      "parallel_groups": [],
      "recommended_workers": 1,
      "speedup_estimate": "Sequential execution - single phase"
    },
    "startup_command": "npx auto-claude-cli run --spec 011"
  },
  "verification_strategy": {
    "risk_level": "medium",
    "skip_validation": false,
    "test_creation_phase": "not_required",
    "test_types_required": [],
    "security_scanning_required": true,
    "staging_deployment_required": false,
    "acceptance_criteria": [
      "GITHUB_TOKEN removed from .auto-claude/.env",
      ".env.example created with documentation",
      "SECRETS.md created with security guidelines",
      "No other hardcoded credentials detected"
    ],
    "verification_steps": [
      {
        "name": "Verify Token Removal",
        "command": "! grep -r 'GITHUB_TOKEN=ghp_' ../.auto-claude/.env 2>/dev/null",
        "expected_outcome": "No hardcoded token found (exit code 0)",
        "type": "security",
        "required": true,
        "blocking": true
      },
      {
        "name": "Verify .env.example Exists",
        "command": "test -f ../.auto-claude/.env.example && grep -q 'GITHUB_TOKEN' ../.auto-claude/.env.example",
        "expected_outcome": ".env.example exists with GITHUB_TOKEN documentation",
        "type": "command",
        "required": true,
        "blocking": true
      },
      {
        "name": "Verify Secrets Documentation",
        "command": "test -f ../.auto-claude/SECRETS.md",
        "expected_outcome": "SECRETS.md documentation exists",
        "type": "command",
        "required": true,
        "blocking": false
      },
      {
        "name": "Scan for Other Hardcoded Secrets",
        "command": "grep -rE '(ghp_|gho_|ghu_|ghs_|ghr_|github.*token|api_key|secret.*=|password.*=)' ../.auto-claude/ --include='*.sh' --include='*.py' --include='*.js' --include='.env*' 2>/dev/null || echo 'Scan complete'",
        "expected_outcome": "No additional hardcoded secrets found",
        "type": "security",
        "required": true,
        "blocking": false
      }
    ],
    "reasoning": "Medium-risk security change requiring verification that credentials are removed and documentation is in place. No unit tests needed for configuration changes."
  },
  "qa_acceptance": {
    "unit_tests": {
      "required": false,
      "commands": [],
      "minimum_coverage": null
    },
    "integration_tests": {
      "required": false,
      "commands": [],
      "services_to_test": []
    },
    "e2e_tests": {
      "required": false,
      "commands": [],
      "flows": []
    },
    "browser_verification": {
      "required": false,
      "pages": []
    },
    "database_verification": {
      "required": false,
      "checks": []
    },
    "security_verification": {
      "required": true,
      "checks": [
        "no-hardcoded-tokens",
        "env-example-exists",
        "secrets-docs-exist"
      ]
    }
  },
  "qa_signoff": null,
  "status": "completed",
  "planStatus": "completed",
  "updated_at": "2026-02-18T19:30:00.000Z"
}